
---

### 고급타입

조건부 타입은 입력된 [[제네릭 타입]]에 따라 타입을 결정하는 기능을 뜻한다.\

```ts
T extends U ? X : Y;
```

위와 같이 조건부 타입은 [[인터페이스]]에서 썻던 `extends` 키워드와 `?`를 사용하는데 딱 보니 삼항 연산자가 생각났을 것이다. 

자바스크립트의 삼항은 변수의 값을 조건에 따라 결정하는 것이라면, 타입스크립트의 조건부 타입은 값 대신 타입을 조건에 따라 결정하는 것이라고 보면 된다.

위의 조건부 코드의 의미는 T를 U에 할당할 수 있다면 타입은 X가 되고 그렇지 않다면 Y가 된다. 
라는 의미이다.

착각하지 말아야 할 점은 조건부 타입도 [[유니온]] 처럼 하나의 타입이다.

`extends`가 들어가서 제네릭 꺾쇠 괄호 `<>` 안에 써야 하는줄 아는데, 그냥 별개의 타입문법으로 취급된다.

> [!INFO]
> 제네릭 extends 와 조건부 타입 extends는 역할만 같은 서로 다른 사용처 연산자라고 치부하는게 이해하기 좋다.

### 예제 코드

```ts
// T extends U ? X : Y

// 제네릭이 string이면 문자열배열, 아니면 넘버배열
type IsStringType<T> = T extends string ? string[] : number[];

type T1 = IsStringType<string>; // type T1 = string[]
type T2 = IsStringType<number>; // type T2 = number[]

const a: T1 = ['홍길동', '임꺾정', '박혁거세'];
const b: T2 = [1000, 2000, 3000];
```

```ts
// 제네릭 `T`는 `boolean` 타입으로 제한.
// 제네릭 T에 true가 들어오면 string 타입으로, false가 들어오면 number 타입으로 data 속성을 타입 지정
interface isDataString<T extends boolean> {
   data: T extends true ? string : number;
   isString: T;
}

const str: isDataString<true> = {
   data: '홍길동', // String
   isString: true,
};

const num: isDataString<false> = {
   data: 9999, // Number
   isString: false,
};
```

단, 조건부 타입을 중첩해서 쓰면 다음과 같이 가독성이 매우 안좋아지니 감안해야 한다.

변수를 조건문을 통해 유기적으로 다룰수 있는 것처럼, 타입스크립트에서 타입도 유기적으로 다루기 위해 if문을 쓸수는 없으니 이런식으로 삼항을 연속해서 써야하는 한곅