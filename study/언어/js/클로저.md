## 클로저란?

- **클로저(Closure)**는 함수가 선언된 스코프(렉시컬 스코프)의 변수들을 함수 실행 이후에도 참조할 수 있게 해주는 자바스크립트의 기능.
- 함수 내부에서 선언된 변수를 외부에서 직접 접근할 수 없지만, 클로저를 이용하면 함수 바깥에서도 해당 변수에 접근·조작이 가능.

## 왜 필요한가?

- 전역 변수 사용은 메모리 누수, 유지보수성 저하 등 여러 문제가 있음.
- 클로저를 활용하면 함수 스코프의 변수들을 안전하게 캡슐화하고, 외부에 노출하지 않으면서 원하는 동작만 제공할 수 있음.

## 동작 원리

- 함수가 실행되면 내부 변수는 메모리에 올라감.
- 함수 실행이 끝나면 일반적으로 변수는 메모리에서 제거됨(가비지 컬렉션).
- 클로저를 사용하면, 함수가 반환한 내부 함수가 상위 스코프의 변수를 계속 참조하므로 해당 변수도 메모리에 남아 있게 됨.

## 예시

1. **카운터 함수**
    - 함수 내부에 `count` 변수 선언 → 외부에서 직접 접근 불가.
    - 클로저 패턴으로 함수 내부에서 `count`를 증가/감소/조회하는 함수를 반환 → 외부에서 이 반환된 함수를 통해 `count` 값을 조작 가능.
    - 여러 개의 카운터를 만들어 각각의 상태를 독립적으로 관리할 수 있음.
2. **리액트의 useState**
    - 상태 관리 훅도 내부적으로 클로저 패턴을 활용해 상태값을 유지하고, 외부에서 직접 접근하지 못하도록 설계됨.

## 장점

- **캡슐화**: 내부 변수와 로직을 숨기고, 필요한 기능만 외부에 노출.
- **모듈 패턴 구현**: 외부에 공개할 변수/함수와 숨길 변수/함수를 명확히 구분 가능.
- **상태 관리**: 여러 인스턴스의 상태를 독립적으로 관리할 수 있음.

## 요약

1. 자바스크립트는 렉시컬 스코프를 따르며, 함수 바깥에서 내부 변수에 접근할 수 없음.
2. 클로저는 함수가 반환한 내부 함수가 상위 스코프의 변수를 참조할 수 있도록 함.
3. 클로저를 활용하면 캡슐화, 모듈 패턴, 상태 관리 등 다양한 장점을 얻을 수 있음.
4. 리액트 useState 등 주요 라이브러리/프레임워크에서 널리 활용되는 핵심 패턴.